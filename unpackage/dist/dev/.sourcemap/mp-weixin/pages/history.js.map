{"version":3,"sources":["uni-app:///main.js","webpack:////Users/wy/Desktop/uni-app/pages/history.vue?85b4","webpack:////Users/wy/Desktop/uni-app/pages/history.vue?cc42","webpack:////Users/wy/Desktop/uni-app/pages/history.vue?3030","webpack:////Users/wy/Desktop/uni-app/pages/history.vue?48b9","uni-app:///pages/history.vue","webpack:////Users/wy/Desktop/uni-app/pages/history.vue?77c4","webpack:////Users/wy/Desktop/uni-app/pages/history.vue?1fd7"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/history.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/history.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./history.vue?vue&type=template&id=08d2122b&scoped=true&\"\nvar renderjs\nimport script from \"./history.vue?vue&type=script&lang=js&\"\nexport * from \"./history.vue?vue&type=script&lang=js&\"\nimport style0 from \"./history.vue?vue&type=style&index=0&id=08d2122b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08d2122b\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/history.vue\"\nexport default component.exports","export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./history.vue?vue&type=template&id=08d2122b&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./history.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./history.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page-history\">\r\n\t\t\r\n\t\t<view class=\"granary\">\r\n\t\t\t<view class=\"title\">请选择记录类型</view>\r\n\t\t\t<view class=\"dropdown-box\">\r\n\t\t\t\t<view class=\"dropdown-box-title\">记录类型</view>\r\n\t\t\t\t<dropdown :current=\"valueSelect\" :list=\"listDropdown\" @onClick=\"dropDownChange\" />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"granary\">\r\n\t\t\t<view class=\"title\">\r\n\t\t\t\t请选择查看时间\r\n\t\t\t\t<button class=\"cu-btn bg-blue sm\" @tap=\"handleClick\">查询</button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"dropdown-box\">\r\n\t\t\t\t\r\n\t\t\t\t<picker :style=\"{\r\n\t\t\t\t\tmarginRight: '20px'\r\n\t\t\t\t}\" mode=\"date\" :value=\"valueDate\" @change=\"bindDateChange\">\r\n\t\t\t\t\t<view class=\"uni-input\">开始时间：{{ valueDate }}</view>\r\n\t\t\t\t</picker>\r\n\t\t\t\t\r\n\t\t\t\t<picker mode=\"date\" :value=\"valueDate2\" @change=\"bindDateChange2\">\r\n\t\t\t\t\t<view class=\"uni-input\">结束时间：{{ valueDate2 }}</view>\r\n\t\t\t\t</picker>\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"mytable-gas-view\" v-if=\"valueSelect===0\">\r\n\t\t\t<text class=\"row1-col2-row1-text\">氮气浓度(%)</text>\r\n\t\t\t<view class=\"mytable-box\">\r\n\t\t\t\t<view class=\"row1\">\r\n\t\t\t\t\t<view class=\"row1-col1 col-item\">检测时间</view>\r\n\t\t\t\t\t<view class=\"row1-col2\">\r\n\t\t\t\t\t\t<view class=\"row1-col2-row1 col-item\">\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"row1-col2-row2\">\r\n\t\t\t\t\t\t\t<view class=\"row1-col2-row2-col col-item\">1#</view>\r\n\t\t\t\t\t\t\t<view class=\"row1-col2-row2-col col-item\">2#</view>\r\n\t\t\t\t\t\t\t<view class=\"row1-col2-row2-col col-item\">3#</view>\r\n\t\t\t\t\t\t\t<view class=\"row1-col2-row2-col col-item\">4#</view>\r\n\t\t\t\t\t\t\t<view class=\"row1-col2-row2-col col-item\">5#</view>\r\n\t\t\t\t\t\t\t<view class=\"row1-col2-row2-col col-item\">6#</view>\r\n\t\t\t\t\t\t\t<view class=\"row1-col2-row2-col col-item\">7#</view>\r\n\t\t\t\t\t\t\t<view class=\"row1-col2-row2-col col-item\">8#</view>\r\n\t\t\t\t\t\t\t<view class=\"row1-col2-row2-col col-item\">空间</view>\r\n\t\t\t\t\t\t\t<view class=\"row1-col2-row2-col col-item\">最高</view>\r\n\t\t\t\t\t\t\t<view class=\"row1-col2-row2-col col-item\">最低</view>\r\n\t\t\t\t\t\t\t<view class=\"row1-col2-row2-col col-item\">平均</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"row2\" v-for=\"(item, index) in dataTable2\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"row2-col col-item\">{{ item.date }}</view>\r\n\t\t\t\t\t<view class=\"row2-col col-item\">{{ item.n2_1 }}</view>\r\n\t\t\t\t\t<view class=\"row2-col col-item\">{{ item.n2_2 }}</view>\r\n\t\t\t\t\t<view class=\"row2-col col-item\">{{ item.n2_3 }}</view>\r\n\t\t\t\t\t<view class=\"row2-col col-item\">{{ item.n2_4 }}</view>\r\n\t\t\t\t\t<view class=\"row2-col col-item\">{{ item.n2_5 }}</view>\r\n\t\t\t\t\t<view class=\"row2-col col-item\">{{ item.n2_6 }}</view>\r\n\t\t\t\t\t<view class=\"row2-col col-item\">{{ item.n2_7 }}</view>\r\n\t\t\t\t\t<view class=\"row2-col col-item\">{{ item.n2_8 }}</view>\r\n\t\t\t\t\t<view class=\"row2-col col-item\">{{ item.n2_8 }}</view>\r\n\t\t\t\t\t<view class=\"row2-col col-item\">{{ item.n2_max }}</view>\r\n\t\t\t\t\t<view class=\"row2-col col-item\">{{ item.n2_min }}</view>\r\n\t\t\t\t\t<view class=\"row2-col col-item\">{{ item.n2_ave }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"mytable-pre-view\" v-if=\"valueSelect===1\">\r\n\t\t\t<view class=\"mytable-box\">\r\n\t\t\t\t<view class=\"row\">\r\n\t\t\t\t\t<view class=\"row-col\">检测时间</view>\r\n\t\t\t\t\t<view class=\"row-col\">检测点</view>\r\n\t\t\t\t\t<view class=\"row-col\">压力(Pa)</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"row\" v-for=\"(item, index) in dataTable2\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"row-col\">{{ item.date }}</view>\r\n\t\t\t\t\t<view class=\"row-col\">{{ item.deviceName }}</view>\r\n\t\t\t\t\t<view class=\"row-col\">{{ item.in_Pa }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t</view>\n</template>\n\n<script>\r\n\timport dropdown from '../components/dropdown/dt-dropdown.vue'\r\n\texport default { \r\n\t\tcomponents: {\r\n\t\t\tdropdown\r\n\t\t},\r\n\t\tdata () {\r\n\t\t\treturn {\r\n\t\t\t\tflagNewUser: true,\r\n\t\t\t\t\r\n\t\t\t\tlistDropdown: ['气体浓度', '压力大小'],\r\n\t\t\t\t\r\n\t\t\t\t// 显示的日期\r\n\t\t\t\tvalueDate: '',\r\n\t\t\t\tvalueDate2: '',\r\n\t\t\t\t// 获取记录的时间\r\n\t\t\t\tstartTime: undefined,\r\n\t\t\t\tendTime: undefined,\r\n\t\t\t\t\r\n\t\t\t\tvalueSelect: 0, // 0气体1压力\r\n\t\t\t\tisBtnShow: true,\r\n\t\t\t\t// 表格配置\r\n\t\t\t\tdataTable: [],\r\n\r\n\t\t\t\t// 制氮机相关信息\r\n\t\t\t\tproductKey: undefined, // 制氮产品的key\r\n\t\t\t\tdevKeyNitrogen: undefined, // 制氮机的key\r\n\t\t\t\tdevKeyAirCheck: undefined, // 气密性的key\r\n\t\t\t\tdevKeyHardware: undefined, // 设备组的key\r\n\t\t\t\tdevKeyGas: undefined, // 气体浓度的key\r\n\t\t\t\tdevKeyPressure: undefined, // 压力大小的key\r\n\t\t\t\tdevKeyBug: undefined, // 害虫检测设备的key\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tdataTable2 () {\r\n\t\t\t\treturn this.dataTable.filter(item => item.type===this.valueSelect)\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.initializeTime()\r\n\t\t\t\r\n\t\t\tif (!this.flagNewUser) return\r\n\t\t\tthis.start()\r\n\t\t\tthis.flagNewUser = false\r\n\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t\r\n\t\t\tdropDownChange (v) {\r\n\t\t\t\tif (v===this.valueSelect) return\r\n\t\t\t\tuni.showLoading()\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.valueSelect = v\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t}, 300)\r\n\t\t\t},\r\n\t\t\tbindDateChange (e) {\r\n\t\t\t\tthis.valueDate = e.detail.value\r\n\t\t\t},\r\n\t\t\tbindDateChange2 (e) {\r\n\t\t\t\tthis.valueDate2 = e.detail.value\r\n\t\t\t},\r\n\r\n\t\t\t// 获取初始数据\r\n\t\t\tasync start () {\r\n\t\t\t\tuni.showLoading()\r\n\t\r\n\t\t\t\t// 找到制氮产品\r\n\t\t\t\tconst p = await this.$api.getProduct()\r\n\t\t\t\tif (p.code!==200) return uni.hideLoading()\r\n\t\t\t\tlet pro = p.data.productInfo.find(a => { return a.typeIdentify==='N2' })\r\n\t\t\t\tif (!pro) {\r\n\t\t\t\t\tthis.$message('您未安装相关制氮设备', 3)\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\treturn \r\n\t\t\t\t}\r\n\t\t\t\tthis.productKey = pro.productKey\r\n\t\r\n\t\t\t\t// 找到制氮机等其他设备\r\n\t\t\t\tconst p2 = await this.$api.getDeviceList(pro.productKey)\r\n\t\t\t\tif (p2.code!==200) return\r\n\t\t\t\tp2.data.deviceInfo.forEach(item => {\r\n\t\t\t\t\tswitch (item.deviceType) {\r\n\t\t\t\t\t\tcase 'N2':\r\n\t\t\t\t\t\t\tthis.devKeyNitrogen = item.deviceKey\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 'airCheck':\r\n\t\t\t\t\t\t\tthis.devKeyAirCheck = item.deviceKey\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 'hardware':\r\n\t\t\t\t\t\t\tthis.devKeyHardware = item.deviceKey\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 'xc-air':\r\n\t\t\t\t\t\t\tthis.devKeyGas = item.deviceKey\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 'xc-pressure':\r\n\t\t\t\t\t\t\tthis.devKeyPressure = item.deviceKey\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 'xc-bug':\r\n\t\t\t\t\t\t\tthis.devKeyBug = item.deviceKey\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\r\n\t\t\t\tthis.initializeTime()\r\n\t\t\t\tthis.getGasPreData()\r\n\t\r\n\t\t\t},\r\n\t\r\n\t\t\t// 初始化时间（默认时间今天）\r\n\t\t\tinitializeTime () {\r\n\t\t\t\tconst date = new Date()\r\n\t\t\t\tconst year = date.getFullYear()\r\n\t\t\t\tconst month = date.getMonth()\r\n\t\t\t\tconst day = date.getDate()\r\n\t\t\t\t\r\n\t\t\t\tthis.valueDate = year + '-' +\r\n\t\t\t\t\t((month + 1) < 10 ? ('0' + (month + 1)) : (month + 1)) + '-' +\r\n\t\t\t\t\t(day< 10 ? ('0' + day) : day)\r\n\t\t\t\tthis.valueDate2 = this.valueDate\r\n\t\t\t\t\r\n\t\t\t\tthis.startTime = new Date(year, month, day).getTime()\r\n\t\t\t\tthis.endTime = new Date(year, month, day).getTime() + 24*60*60*1000\r\n\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\r\n\t\t\t// 获取设备数据\r\n\t\t\tasync getGasPreData () {\r\n\t\t\t\tuni.showLoading()\r\n\t\t\t\tconsole.log(\"获取气体、压力记录\")\r\n\t\t\t\tconsole.log(\"开始时间：\"+this.$time2date(this.startTime))\r\n\t\t\t\tconsole.log(\"结束时间：\"+this.$time2date(this.endTime))\r\n\t\t\t\tconst res = await this.$api.getHistoryData(this.devKeyHardware, this.startTime, this.endTime)\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t\tif (res.code!==200) {\r\n\t\t\t\t\tthis.dataTable = []\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet data = res.data.deviceData.filter(a => {\r\n\t\t\t\t\treturn !('o2' in a)\r\n\t\t\t\t})\r\n\t\t\t\tdata.forEach(item => {\r\n\t\t\t\t\tif ('Custom' in item) { // 气体数据\r\n\t\t\t\t\t\tlet n2_sum = 0\r\n\t\t\t\t\t\tlet n2_max = -9999\r\n\t\t\t\t\t\tlet n2_min = 9999\r\n\t\t\t\t\t\titem.n2.forEach((item2, index) => {\r\n\t\t\t\t\t\t\titem['n2_' + (index+1)] = item2.toFixed(2)\r\n\t\t\t\t\t\t\tn2_sum += item2\r\n\t\t\t\t\t\t\tn2_max = item2>n2_max?item2:n2_max\r\n\t\t\t\t\t\t\tn2_min = item2<n2_min?item2:n2_min\r\n\t\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\titem.n2_max = n2_max===-9999?0:n2_max.toFixed(2)\r\n\t\t\t\t\t\titem.n2_min = n2_min===9999?0:n2_min.toFixed(2)\r\n\t\t\t\t\t\titem.n2_ave = (n2_sum/9).toFixed(2)\r\n\t\t\t\t\t\titem.type = 0\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else if ('in_Pa' in item) { // 压力数据\r\n\t\t\t\t\t\titem.in_Pa = item.in_Pa.toFixed(1)\r\n\t\t\t\t\t\titem.type = 1\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.type = 99\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.dataTable = Object.freeze(data)\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t\tconsole.log(this.dataTable);\r\n\t\r\n\t\t\t},\r\n\t\r\n\t\t\t// 获得操作日志\r\n\t\t\tgetLogs () {\r\n\t\t\t\tconsole.log(\"获取操作日志\")\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t}, 300)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\thandleClick () {\r\n\t\t\t\tconsole.log('点击查询')\r\n\t\t\t\tconst dateArr = this.valueDate.split('-')\r\n\t\t\t\tconst dateArr2 = this.valueDate2.split('-')\r\n\t\t\t\t\r\n\t\t\t\tlet startTime = new Date(parseInt(dateArr[0]), parseInt(dateArr[1])-1, parseInt(dateArr[2])).getTime()\r\n\t\t\t\tlet endTime = new Date(parseInt(dateArr2[0]), parseInt(dateArr2[1])-1, parseInt(dateArr2[2])).getTime()\r\n\t\t\t\t\r\n\t\t\t\tif (startTime > endTime) {\r\n\t\t\t\t\t// 开始时间不得大于结束时间\r\n\t\t\t\t\tlet temp = endTime\r\n\t\t\t\t\tendTime = startTime+ 24*60*60*1000\r\n\t\t\t\t\tstartTime = temp\r\n\t\t\t\t\tlet temp2 = this.valueDate2\r\n\t\t\t\t\tthis.valueDate2 = this.valueDate\r\n\t\t\t\t\tthis.valueDate = temp2\r\n\t\t\t\t} else {\r\n\t\t\t\t\tendTime += 24*60*60*1000\r\n\t\t\t\t}\r\n\t\t\t\tthis.startTime = startTime\r\n\t\t\t\tthis.endTime = endTime\r\n\t\t\t\tthis.getGasPreData()\r\n\r\n\t\t\t},\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\r\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\r\n\t.page-history {\r\n\t\t.granary {\r\n\t\t\tbackground-color: #FFFFFF;\r\n\t\t\tmargin-top: 5px;\r\n\t\t\tpadding: 10px;\r\n\t\t\tborder-radius: 5px;\r\n\t\t\tbackground-color: #FFFFFF;\r\n\t\t\tbox-shadow: 0 0 5px $uni-border-color;\r\n\t\t\t.title {\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tpadding: 5px 0;\r\n\t\t\t\tborder-bottom: solid 1px $uni-border-color;\r\n\t\t\t\tbutton {\r\n\t\t\t\t\tfloat: right;\r\n\t\t\t\t\tright: 10px;\r\n\t\t\t\t\tbottom: 5px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.dropdown-box {\r\n\t\t\t\tmargin-top: 20px;\r\n\t\t\t\tmargin-bottom: 10px;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\t.dropdown-box-title {\r\n\t\t\t\t\tfont-size: 13px;\r\n\t\t\t\t\tmargin-right: 10px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t.mytable-gas-view {\r\n\t\t\t.row1-col2-row1-text {\r\n\t\t\t\tfont-size: 13px;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tleft: 55%;\r\n\t\t\t\ttop: 23px;\r\n\t\t\t\tz-index: 99;\r\n\t\t\t}\r\n\t\t\t.mytable-box {\r\n\t\t\t\tborder-left: solid 1px $uni-border-color;\r\n\t\t\t\tborder-top: solid 1px $uni-border-color;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tmargin-bottom: 20px;\r\n\t\t\t\tbackground-color: #FFFFFF;\r\n\t\t\t\toverflow-x: scroll;\r\n\t\t\t\tfont-size: 13px;\r\n\t\t\t\t.row1 {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t.row1-col1 {\r\n\t\t\t\t\t\tposition: sticky;\r\n\t\t\t\t\t\tleft: 0;\r\n\t\t\t\t\t\twidth: 100px;\r\n\t\t\t\t\t\tflex-shrink: 0;\r\n\t\t\t\t\t\tborder-right: solid 1px $uni-border-color;\r\n\t\t\t\t\t\tborder-bottom: solid 1px $uni-border-color;\r\n\t\t\t\t\t\tbackground-color: #FFFFFF;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.row1-col2 {\r\n\t\t\t\t\t\t.row1-col2-row1 {\r\n\t\t\t\t\t\t\theight: 30px;\r\n\t\t\t\t\t\t\tborder-right: solid 1px $uni-border-color;\r\n\t\t\t\t\t\t\tborder-bottom: solid 1px $uni-border-color;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.row1-col2-row2 {\r\n\t\t\t\t\t\t\theight: 30px;\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t.row1-col2-row2-col {\r\n\t\t\t\t\t\t\t\twidth: 40px;\r\n\t\t\t\t\t\t\t\tflex-shrink: 0;\r\n\t\t\t\t\t\t\t\tborder-right: solid 1px $uni-border-color;\r\n\t\t\t\t\t\t\t\tborder-bottom: solid 1px $uni-border-color;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.row2 {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t.row2-col {\r\n\t\t\t\t\t\tfont-size: 10px;\r\n\t\t\t\t\t\twidth: 40px;\r\n\t\t\t\t\t\tflex-shrink: 0;\r\n\t\t\t\t\t\tborder-right: solid 1px $uni-border-color;\r\n\t\t\t\t\t\tborder-bottom: solid 1px $uni-border-color;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.row2-col:first-child {\r\n\t\t\t\t\t\tposition: sticky;\r\n\t\t\t\t\t\tleft: 0;\r\n\t\t\t\t\t\twidth: 100px;\r\n\t\t\t\t\t\tbackground-color: #FFFFFF;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.col-item {\r\n\t\t\t\tpadding: 2px 3px;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.mytable-pre-view {\r\n\t\t\tmargin: 20px 0;\r\n\t\t\tbackground-color: #FFFFFF;\r\n\t\t\tborder-left: solid 1px $uni-border-color;\r\n\t\t\tborder-top: solid 1px $uni-border-color;\r\n\t\t\t.mytable-box {\r\n\t\t\t\t.row {\r\n\t\t\t\t\theight: 30px;\r\n\t\t\t\t\tfont-size: 10px;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t.row-col {\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\tborder-right: solid 1px $uni-border-color;\r\n\t\t\t\t\t\tborder-bottom: solid 1px $uni-border-color;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.row:first-child {\r\n\t\t\t\t\tfont-size: 13px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\n</style>\n","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./history.vue?vue&type=style&index=0&id=08d2122b&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./history.vue?vue&type=style&index=0&id=08d2122b&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1657192365648\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}